function template(n){var e,t=[],a={},l=n||{};return function(n,l){var o=req.ls,i=req.qid||"",s=req.ad,r=req.ctype,d="http://haosou.com/s?src=lm&q=360&ls="+o+"&ctype="+r,c="http://stat.lianmeng.360.cn/s2/srp.gif?lm_extend=ctype:"+r+"&qid="+i+"&nu="+s.length+"&ls="+o+"&_r="+(new n).getTime(),u="http://stat.lianmeng.360.cn/s2/clk.gif?lm_extend=ctype:"+r+"&qid="+i+"&nu="+s.length+"&ls="+o,h=conf.rankBorderSize||1,g=conf.rankPadding||1,p=req.w-2*h-2*g,m=req.h-2*h-2*g,f=conf.rankBorderSize||1,v=conf.rankBorderColor||"CFD8DC",x=conf.rankPadding||1,b=conf.rankHColor||"00BE35",j=conf.rankFsFize||12,k=conf.rankFsFamily||"Microsoft Yahei",w=conf.rankFsColor||"333333",y=l.floor(req.w/120),C=l.floor(req.h/28);y*C>50&&(C=l.floor(50/y)),t.push("<style>html{\n    width: "+jade.escape(null==(e=p)?"":e)+"px;\n    height: "+jade.escape(null==(e=m)?"":e)+"px;\n}\n\nhtml,body,div,a{\n    margin : 0;\n    padding : 0;\n    border : 0;\n    outline : 0;\n    font-size: 100%;\n    font-family: Microsoft Yahei, '宋体';\n}\nbody{\n    background-color: white;\n}\na{\n    text-decoration: none;    \n}\n.container{\n    width: "+jade.escape(null==(e=p)?"":e)+"px;\n    height: "+jade.escape(null==(e=m)?"":e)+"px;\n    border: "+jade.escape(null==(e=f)?"":e)+"px solid #"+jade.escape(null==(e=v)?"":e)+";\n    padding: "+jade.escape(null==(e=x)?"":e)+"px;\n}\n.container::after{\n    clear: both;\n}\n\n.logo{\n    position:absolute;    \n    right:0;\n    bottom:0;\n    width: 22px;\n    height: 22px;\n    background:url('http://p6.qhimg.com/d/inn/8236daf8/logo_20x20.png') no-repeat;\n    _filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"http://p6.qhimg.com/d/inn/8236daf8/logo_20x20.png\");\n    _background:none;\n}\n.row::after{\n    clear: both;    \n}\n.item{\n    float: left;\n    text-align: left;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.item-num{\n    display: inline-block;\n    *diaplay: inline;\n    width: 14px;\n    height: 14px;\n    background-color: #cfd8dc;\n    line-height: 14px;\n    text-align: center;\n    color: #fff;\n    margin: 0 2px;\n}\n.hightlight{\n    background-color: #"+jade.escape(null==(e=b)?"":e)+";  \n    color: white;\n}\n.row a{\n    font-size: "+jade.escape(null==(e=j)?"":e)+'px;\n    font-family: "'+jade.escape(null==(e=k)?"":e)+'","宋体";\n    color: #'+jade.escape(null==(e=w)?"":e)+";\n    float: left;\n    overflow: hidden;\n}\n.row a:hover .item, .row .select .item{\n    background-color: #"+jade.escape(null==(e=b)?"":e)+";\n    color: white;\n}\n.row a:hover .item-num, .row .select .item-num{\n    background-color: #fff;\n    color: #"+jade.escape(null==(e=b)?"":e)+";\n}\n</style>"),a.colLayout=e=function(n,a,l,o,i,s,r,d){for(var c=(this&&this.block,this&&this.attributes||{},0);o>c;)t.push("<a"+jade.attr("href",a[n+c*l].curl,!0,!1)+' target="_blank"'+jade.attr("title",a[n+c*l].tit,!0,!1)+">"),c==o-2?t.push("<div"+jade.attr("data-index",n+c*l,!0,!1)+jade.attr("style","margin-right:"+s+"px;width:"+r+"px;height:"+d+"px;line-height:"+d+"px;",!0,!1)+' class="item"><span class="item-num">'+jade.escape(null==(e=n+1+c*l)?"":e)+"</span>"+jade.escape(null==(e=a[n+c*l].tit)?"":e)+"</div>"):o-1>c?t.push("<div"+jade.attr("data-index",n+c*l,!0,!1)+jade.attr("style","margin-right:"+i+"px;width:"+r+"px;height:"+d+"px;line-height:"+d+"px;",!0,!1)+' class="item"><span class="item-num">'+jade.escape(null==(e=n+1+c*l)?"":e)+"</span>"+jade.escape(null==(e=a[n+c*l].tit)?"":e)+"</div>"):t.push("<div"+jade.attr("data-index",n+c*l,!0,!1)+jade.attr("style","width:"+r+"px;height:"+d+"px;line-height:"+d+"px;",!0,!1)+' class="item"><span class="item-num">'+jade.escape(null==(e=n+1+c*l)?"":e)+"</span>"+jade.escape(null==(e=a[n+c*l].tit)?"":e)+"</div>"),t.push("</a>"),c++},a.linkLayout=e=function(n,e,o,i,s){for(var r=(this&&this.block,this&&this.attributes||{},0),d=l.floor((s-4*(n-1))/n),c=l.floor((i-4*(e-1))/e),u=s-n*d,h=i-e*c,g=l.floor(u/(n-1)),p=l.floor(h/(e-1)),m=g,f=p;n>r;)r==n-2?(t.push("<div"+jade.attr("style","height:"+d+"px;margin-bottom:"+m+"px",!0,!1)+' class="row">'),a.colLayout(r,o,n,e,p,f,c,d),t.push("</div>")):n-1>r?(t.push("<div"+jade.attr("style","height:"+d+"px;margin-bottom:"+g+"px",!0,!1)+' class="row">'),a.colLayout(r,o,n,e,p,f,c,d),t.push("</div>")):(t.push("<div"+jade.attr("style","height:"+d+"px;",!0,!1)+' class="row">'),a.colLayout(r,o,n,e,p,f,c,d),t.push("</div>")),r++},t.push('<div class="container">'),a.linkLayout.call({block:function(){t.push(" ")}},C,y,s,p,m),t.push("</div><a"+jade.attr("href",""+d,!0,!1)+' target="_blank" data-t="logo"><div class="logo"></div></a><script>function sendLog(src){\n    var img = new Image();\n    img.onload = img.onerror = function(){\n        img = null;    \n    };\n    img.src = src;\n}\n\nfunction addClass(target, className){\n    target.className += \' \' + className;    \n}\n\nfunction removeClass(target, className){\n    var reg = new RegExp(\'\\\\s+\' + className, \'g\');\n    target.className = target.className.replace(reg , \'\'); \n}\n\nfunction getElementsByClassName (searchClass, node, tag) {\n    var result = [];\n    tag = tag || "*";\n    node = node || document;\n    if (document.getElementsByClassName) {\n        var nodes = node.getElementsByClassName(searchClass);\n        for (var i = 0; node = nodes[i++];) {\n             result.push(node);\n        }\n        return result;\n    } else {\n        var classes = searchClass.split(" "),\n            elements = (tag === "*" && node.all) ? node.all : node.getElementsByTagName(tag),\n            patterns = [],\n            current,\n            match;\n        var i = classes.length;\n        while (--i >= 0) {\n            patterns.push(new RegExp("(^|\\\\s)" + classes[i] + "(\\\\s|$)"));\n        }\n        var j = 0;\n        while (j < elements.length) {\n            current = elements[j];\n            match = false;\n            for (var k = 0, kl = patterns.length; k < kl; k++) {\n                match = patterns[k].test(current.className);\n                if (!match) break;\n            }\n            if (match) result.push(current);\n            j++;\n        }\n        return result;\n    } \n}\n \nfunction select(item){\n    addClass(item, \'select\');\n}\n\nfunction lunboFunc(){\n    lunbo_index++;\n    lunbo_index = lunbo_index  % lunbo.length;\n    for(var j=0;j<lunboLink.length;j++){\n        if(j == lunbo_index){\n            select(lunboLink[j]);\n        }else{\n            removeClass(lunboLink[j], \'select\');\n        }\n    }\n}\n\n\n\n            \nsendLog(\''+(null==(e=c)?"":e)+"');\n\nvar links = document.getElementsByTagName('a');\nvar items = getElementsByClassName('item').length;\nvar row = getElementsByClassName('row').length;\nvar col = items / row;\nvar lunbo = [];\nvar lunbo_index = 0;\nvar lunboLink;\n\nfunction gbStrlen(str){\n    var len = 0;\n    for (var i=0; i<str.length; i++) { \n        var c = str.charCodeAt(i); \n        if ((c >= 0x0001 && c <= 0x007e) || (0xff60<=c && c<=0xff9f)) { \n           len++; \n        } \n        else { \n            len+=2; \n        } \n   } \n   return len;\n}           \n\n\nfor(var i=0; i<links.length - 1; i++){\n    var a = links[i];\n    var dataIndex = a.childNodes[0].getAttribute('data-index');\n    var lunboItem = a.childNodes[0];\n    var item = lunboItem.childNodes[0];\n    if(dataIndex<3){\n        if(dataIndex == 0){\n            addClass(a,'select');\n        }\n        addClass(item, 'hightlight');\n        addClass(a,'lunbo');\n        lunbo.push(lunboItem);\n    }\n    if(a.getAttribute('data-t') != 'logo'){\n        if(window.addEventListener){\n            a.addEventListener('mouseup', function(evt){\n                var target = evt.target;\n                sendLog('"+(null==(e=u)?"":e)+"' + '&index=' + target.getAttribute('data-index') + '&txt=' + encodeURIComponent(target.parentNode.getAttribute('title')) + '&_r=' + new Date().getTime());\n            }, false);\n        }\n        else{\n            a.attachEvent('onmouseup', function(){\n                var target = window.event.srcElement;\n                sendLog('"+(null==(e=u)?"":e)+"' + '&index=' + target.getAttribute('data-index') + '&txt=' + encodeURIComponent(target.parentNode.getAttribute('title')) + '&_r=' + new Date().getTime());\n            });\n        }    \n    }\n}\nlunboLink = getElementsByClassName('lunbo');\nsetInterval(lunboFunc, 3000); </script>")}.call(this,"Date"in l?l.Date:"undefined"!=typeof Date?Date:void 0,"Math"in l?l.Math:"undefined"!=typeof Math?Math:void 0),t.join("")}